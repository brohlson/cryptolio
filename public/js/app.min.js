$(document).ready(function(){$("#loginModal").modal({backdrop:"static"}),$("#signupModal").modal({backdrop:"static"}),$("#nav-icon1").click(function(){$(this).toggleClass("open"),$("#menu").toggleClass("show")}),$("#sign-up").on("click",function(o){var e=$("#signUpEmail").val().trim(),n=$("#signUpPass").val().trim();o.preventDefault(),console.log("hi"),console.log(e),console.log(n),$.post("/login/signup",{email:e,password:n}).then(function(o){!1===o?alert("sorry, that email is already in use"):(window.location.replace=o.redirect,$("#signUpEmail").val(""),$("#signUpPass").val(""))}).catch(function(o){console.log(o)})}),$("#login").on("click",function(o){var e=$("#loginEmail").val().trim(),n=$("#loginPW").val().trim();$.post("/login/login",{email:e,password:n}).then(function(o){window.location.replace(o)}).catch(function(o){console.log(o)})}),$("#coinbase").click(function(o){o.preventDefault(),console.log("click"),window.location.replace("https://www.coinbase.com/oauth/authorize?client_id=292d61271cf240147c550bef04ecb2a33fa1c50b4ecb062a8ce4d0562635a0b9&redirect_uri=http%3A%2F%2Flocalhost%3A3005%2F&response_type=code&scope=wallet%3Auser%3Aread")}),$("#submitCoin").click(function(o){o.preventDefault();var e=$("#coinName").val(),n=$("#coinQty").val(),t=$("#coinName").find(":selected").attr("data-symbol");console.log("Coin: "+e+" Qty: "+n+" Sym: "+t),$("#coinName").val(""),$("#coinQty").val(""),$.post("/addCoin",{coinName:e,coinSymbol:t,numCoins:n}).then(function(o){console.log(o),location.reload()})}),$.get("/userData").then(function(o){console.log(o);var e=o.amounts,n=o.coinPrices;console.log(o.amounts[0]),console.log(o.coinPrices[0].USD),console.log(e[0]*n[0].USD);var t=0;for(i=0;i<o.coinNames.length;i++)t+=e[i]*n[i].USD;console.log(t),$("#usdVal").text(t.toFixed(2));var a=document.getElementById("myChart").getContext("2d");new Chart(a,{type:"horizontalBar",data:{labels:o.coinNames,datasets:[{label:"Total (USD)",labelTextColor:"white",backgroundColor:"white",borderColor:"white",fontColor:"white",data:o.amounts}]},options:{legend:{labels:{fontColor:"white"}},scales:{xAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}],yAxes:[{ticks:{fontColor:"white"}}]}}})});var o="https://api.nytimes.com/svc/search/v2/articlesearch.json";o+="?"+$.param({"api-key":"51ddc7961de648eb9330f8616cf43da0",q:"cryptocurrency"}),$.ajax({url:o,method:"GET"}).done(function(o){for($(".news-loading").remove(),i=0;i<5;i++){console.log(o.response.docs[i].web_url),console.log(o.response.docs[i].headline.main);var e=$("<a>");e.addClass("list-group-item list-group-item-action news-group-item-small"),e.attr("href",o.response.docs[i].web_url),e.attr("target","blank"),e.text(o.response.docs[i].headline.main),$("#news-group").append(e)}}).fail(function(o){throw o})});